[
  {
    "objectID": "10 extract data from u.s. epa's benmap.html",
    "href": "10 extract data from u.s. epa's benmap.html",
    "title": "Extract data from BenMAP",
    "section": "",
    "text": "This notebook describes how to extract data from BenMAP’s internal database and save the data for this project.\nCreate resources/benmap folder to store unzipped files.\n\n! mkdir -p resources/benmap\n\nDownload BenMAP using wget. Install wget using homebrew if you don’t have one.\n\n! brew install wget\n\nWarning: wget 1.21.4 is already installed and up-to-date.\nTo reinstall 1.21.4, run:\n  brew reinstall wget\n\n\n\n! wget -c -O resources/benmap/benmap.exe https://www3.epa.gov/ttn/ecas/benmap/BenMAP-CE-Installer_x64_1.5.8.23.exe\n\n--2023-05-30 17:04:49--  https://www3.epa.gov/ttn/ecas/benmap/BenMAP-CE-Installer_x64_1.5.8.23.exe\nResolving www3.epa.gov (www3.epa.gov)... 2620:117:506f:15::f022, 134.67.21.34\nConnecting to www3.epa.gov (www3.epa.gov)|2620:117:506f:15::f022|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 1134521832 (1.1G) [application/x-msdownload]\nSaving to: ‘resources/benmap/benmap.exe’\n\nresources/benmap/be 100%[===================&gt;]   1.06G  5.64MB/s    in 2m 8s   \n\n2023-05-30 17:06:58 (8.47 MB/s) - ‘resources/benmap/benmap.exe’ saved [1134521832/1134521832]\n\n\n\nUncompress the exe file using a 7-Zip, p7zip.\n\n! brew install p7zip\n\nWarning: p7zip 17.05 is already installed and up-to-date.\nTo reinstall 17.05, run:\n  brew reinstall p7zip\n\n\n\n! 7z x -y -oresources/benmap resources/benmap/benmap.exe\n\n\n7-Zip [64] 17.04 : Copyright (c) 1999-2021 Igor Pavlov : 2017-08-28\np7zip Version 17.04 (locale=utf8,Utf16=on,HugeFiles=on,64 bits,8 CPUs LE)\n\nScanning the drive for archives:\n  0M Sca        1 file, 1134521832 bytes (1082 MiB)\n\nExtracting archive: resources/benmap/benmap.exe\n  0% Ope        --\nPath = resources/benmap/benmap.exe\nType = PE\nPhysical Size = 1134521832\nCPU = x86\nCharacteristics = Executable 32-bit\nCreated = 2017-04-05 15:33:08\nHeaders Size = 1024\nChecksum = 1134551350\nName = 7zS.sfx.exe\nImage Size = 503808\nSection Alignment = 4096\nFile Alignment = 512\nCode Size = 382976\nInitialized Data Size = 106496\nUninitialized Data Size = 0\nLinker Version = 14.10\nOS Version = 6.0\nImage Version = 0.0\nSubsystem Version = 6.0\nSubsystem = Windows GUI\nDLL Characteristics = Relocated NX-Compatible TerminalServerAware\nStack Reserve = 1048576\nStack Commit = 4096\nHeap Reserve = 1048576\nHeap Commit = 4096\nImage Base = 4194304\nComment = FileVersion: 16.4.0.0\nFileVersion: 16.04\nProductVersion: 16.4.0.0\nProductVersion: 16.04\nCompanyName: Igor Pavlov\nFileDescription: 7z Setup SFX\nInternalName: 7zS.sfx\nLegalCopyright: Copyright (c) 1999-2016 Igor Pavlov\nOriginalFilename: 7zS.sfx.exe\nProductName: 7-Zip\n----\nPath = [0]\nSize = 1134035752\nPacked Size = 1134035752\nVirtual Size = 1134035752\nOffset = 477184\n--\nPath = [0]\nType = 7z\nOffset = 147\nPhysical Size = 1134035598\nTail Size = 7\nHeaders Size = 296\nMethod = LZMA2:24 BCJ\nSolid = +\nBlocks = 2\n\n      1% - Setup.m                3% - Setup.m                4% - Setup.m                5% - Setup.m               17% 1 - BENMAP50_DB.e                       31% 1 - BENMAP50_DB.e                       44% 1 - BENMAP50_DB.e                       57% 1 - BENMAP50_DB.e                       69% 2 - BenMAP50_GBD.ex                         83% 2 - BenMAP50_GBD.ex                         96% 2 - BenMAP50_GBD.ex                        Everything is Ok\n\nFiles: 5\nSize:       1143498323\nCompressed: 1134521832\n\n\nUnzipping the exe file produces several smaller exe files.\n\n!ls resources/benmap/\n\nBENMAP50.FDB      BenMAP50_GBD.exe  Setup.msi         benmap.exe.old\nBENMAP50_DB.exe   POPSIMDB.exe      benmap.exe        setup.exe\n\n\nNow unzip BENMAP50_DB.exe, which has the BenMAP internal database file.\n\n!7z x -y -oresources/benmap resources/benmap/BENMAP50_DB.exe\n\n\n7-Zip [64] 17.04 : Copyright (c) 1999-2021 Igor Pavlov : 2017-08-28\np7zip Version 17.04 (locale=utf8,Utf16=on,HugeFiles=on,64 bits,8 CPUs LE)\n\nScanning the drive for archives:\n  0M Sca        1 file, 687581809 bytes (656 MiB)\n\nExtracting archive: resources/benmap/BENMAP50_DB.exe\n  0% Ope        --\nPath = resources/benmap/BENMAP50_DB.exe\nType = 7z\nOffset = 215040\nPhysical Size = 687366769\nHeaders Size = 130\nMethod = LZMA2:24\nSolid = -\nBlocks = 1\n\n      0% - BENMAP50.FD                    1% - BENMAP50.FD                    2% - BENMAP50.FD                    3% - BENMAP50.FD                    4% - BENMAP50.FD                    5% - BENMAP50.FD                    6% - BENMAP50.FD                    7% - BENMAP50.FD                    8% - BENMAP50.FD                    9% - BENMAP50.FD                   10% - BENMAP50.FD                   11% - BENMAP50.FD                   12% - BENMAP50.FD                   13% - BENMAP50.FD                   14% - BENMAP50.FD                   15% - BENMAP50.FD                   16% - BENMAP50.FD                   17% - BENMAP50.FD                   18% - BENMAP50.FD                   19% - BENMAP50.FD                   20% - BENMAP50.FD                   21% - BENMAP50.FD                   22% - BENMAP50.FD                   23% - BENMAP50.FD                   24% - BENMAP50.FD                   25% - BENMAP50.FD                   26% - BENMAP50.FD                   27% - BENMAP50.FD                   28% - BENMAP50.FD                   29% - BENMAP50.FD                   30% - BENMAP50.FD                   31% - BENMAP50.FD                   32% - BENMAP50.FD                   33% - BENMAP50.FD                   34% - BENMAP50.FD                   35% - BENMAP50.FD                   36% - BENMAP50.FD                   37% - BENMAP50.FD                   38% - BENMAP50.FD                   39% - BENMAP50.FD                   40% - BENMAP50.FD                   41% - BENMAP50.FD                   42% - BENMAP50.FD                   43% - BENMAP50.FD                   44% - BENMAP50.FD                   45% - BENMAP50.FD                   46% - BENMAP50.FD                   47% - BENMAP50.FD                   48% - BENMAP50.FD                   49% - BENMAP50.FD                   50% - BENMAP50.FD                   51% - BENMAP50.FD                   52% - BENMAP50.FD                   53% - BENMAP50.FD                   54% - BENMAP50.FD                   55% - BENMAP50.FD                   56% - BENMAP50.FD                   57% - BENMAP50.FD                   58% - BENMAP50.FD                   59% - BENMAP50.FD                   60% - BENMAP50.FD                   61% - BENMAP50.FD                   62% - BENMAP50.FD                   63% - BENMAP50.FD                   64% - BENMAP50.FD                   65% - BENMAP50.FD                   66% - BENMAP50.FD                   67% - BENMAP50.FD                   68% - BENMAP50.FD                   69% - BENMAP50.FD                   70% - BENMAP50.FD                   71% - BENMAP50.FD                   72% - BENMAP50.FD                   73% - BENMAP50.FD                   74% - BENMAP50.FD                   75% - BENMAP50.FD                   76% - BENMAP50.FD                   77% - BENMAP50.FD                   78% - BENMAP50.FD                   79% - BENMAP50.FD                   80% - BENMAP50.FD                   81% - BENMAP50.FD                   82% - BENMAP50.FD                   83% - BENMAP50.FD                   84% - BENMAP50.FD                   85% - BENMAP50.FD                   86% - BENMAP50.FD                   87% - BENMAP50.FD                   88% - BENMAP50.FD                   89% - BENMAP50.FD                   90% - BENMAP50.FD                   91% - BENMAP50.FD                   92% - BENMAP50.FD                   93% - BENMAP50.FD                   94% - BENMAP50.FD                   95% - BENMAP50.FD                   96% - BENMAP50.FD                   97% - BENMAP50.FD                   98% - BENMAP50.FD                   99% - BENMAP50.FD                  100%    Everything is Ok\n\nSize:       5579063296\nCompressed: 687581809\n\n\n\n!ls resources/benmap/\n\nBENMAP50.FDB      BenMAP50_GBD.exe  Setup.msi         benmap.exe.old\nBENMAP50_DB.exe   POPSIMDB.exe      benmap.exe        setup.exe\n\n\nBENMAP50.FDB is BenMAP’s main database file. It is a database file used by Firebird, an open-source SQL relational database management system. The database is in the Firebird 2.5 format. So, put BENMAP50.FDB in your Firebird 2.5 server.\n\nConnecting to the database\nLet’s use ipython-sql to connect to the db.\n\n! pip install ipython-sql fdb\n\n\n# for connecting to firebird\n\nThe sql extension is already loaded. To reload it, use:\n  %reload_ext sql\n\n\nShow the list of tables\n\nSELECT a.RDB$RELATION_NAME\nFROM RDB$RELATIONS a\nWHERE COALESCE(RDB$SYSTEM_FLAG, 0) = 0 AND RDB$RELATION_TYPE = 0\n\n * firebird+fdb://sysdba:***@localhost/benmap\n0 rows affected.\n\n\n\n\n\n\n\n\n\nrdb$relation_name\n\n\n\n\n0\nQALYENTRIES\n\n\n1\nAGERANGES\n\n\n2\nBASELINEFUNCTIONALFORMS\n\n\n3\nCOMMONFNFORMS\n\n\n4\nCRFUNCTIONCUSTOMENTRIES\n\n\n...\n...\n\n\n58\nMETADATAINFORMATION\n\n\n59\nDATASETTYPES\n\n\n60\nDISTRIBUTIONTYPES\n\n\n61\nGEOGRAPHICAREAS\n\n\n62\nGEOGRAPHICAREAENTRIES\n\n\n\n\n63 rows × 1 columns"
  },
  {
    "objectID": "core.html",
    "href": "core.html",
    "title": "core",
    "section": "",
    "text": "source\n\nfoo\n\n foo ()"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "pyairhealth",
    "section": "",
    "text": "The goal of this project is to develop a Python package that can conduct public health assessments of air quality, similar to as the U.S. EPA’s U.S. EPA’s Environmental Benefits Mapping and Analysis Program - Community Edition (BenMAP-CE).\nBenMAP-CE is a tool that calculates the public health benefits resulting from changes in air quality, such as premature death, lung cancer, and hospitalization. It is a de facto standard and is developed and updated by the U.S. Environmental Protection Agency. Although it is an excellent tool, its graphical user interface is not ideal for conducting public health assessments programmatically.\nThis package uses a part of BenMAP-CE’s internal database and allows you to calculate the impact of air quality on public health and its economic value using Python. It will also provide a summary of atmospheric science, public health, and economics in the context of assessing the public health effect of air quality."
  },
  {
    "objectID": "index.html#install-not-working-yet",
    "href": "index.html#install-not-working-yet",
    "title": "pyairhealth",
    "section": "Install (not working yet!)",
    "text": "Install (not working yet!)"
  },
  {
    "objectID": "index.html#pip",
    "href": "index.html#pip",
    "title": "pyairhealth",
    "section": "pip",
    "text": "pip\npip install pyairhealth"
  },
  {
    "objectID": "index.html#conda",
    "href": "index.html#conda",
    "title": "pyairhealth",
    "section": "conda",
    "text": "conda\nconda install pyairhealth"
  }
]